tinymce.PluginManager.add("fonts",function(e){e.addCommand("fonts",function(e,t){showfontsdialog(t)}),e.on("init",function(){}),update=function(){},showfontsdialog=function(t){win=e.windowManager.open({title:"字体管理",width:800,height:500,tab:[{name:"font_addfav",title:"字体收藏",html:iFonts.getFontsFavHtml()},{name:"font_set",title:"字体命名",html:iFonts.getFontsSetHtml()}],buttons:[{text:"Ok",subtype:"primary",onclick:function(){win.close()}}],nodrag:!0}),console.log(win),$("#modal_tab a").click(function(e){e.preventDefault(),$(this).tab("show")}),t?$("#modal_tab a").eq(1).tab("show"):$("#modal_tab a:first").tab("show"),iFonts.render_fav_list(),iFonts.FontsDict.each(function(e){e.addView("iview",require("fonts/view/font")),e.id==t&&e.iview.focus()})}});